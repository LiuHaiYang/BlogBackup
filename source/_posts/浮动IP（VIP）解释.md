---
title: 浮动IP（VIP）解释
date: 2020-05-16 11:57:08
tags: 网络
---

1. 为什么会有浮动ip？
现在有一个场景，在一台Linux上部署一个web应用，应用跑在tomcat里面，linux网卡上的ip是115.239.100.120

![image](https://img-blog.csdn.net/20161209203117792)
用户通过输入IP地址就能访问这个应用了，但是天有不测风云，有时候因为一些原因，服务会挂掉。于是开发人员就想了一个办法，在另外一个Linux上，部署同样的一个应用，这样这个服务挂了，另外一个顶上
![image](https://img-blog.csdn.net/20161209203818568)

如果用户访问100.120访问不了，就访问100.121就行了，但是这样引入了一个问题，用户需要记住两个IP，很不方便！
所以这个时候就需要浮动IP了。

2. 浮动IP是什么

上面我们搭建了两个一模一样的服务，但是用户需要记住两个IP，实在是太麻烦了，于是我们可以采用另外一个策略，
我们给其中一个机器在添加一个IP，让用户访问这个IP，**一个网卡是可以添加多个IP的**。

![image](https://img-blog.csdn.net/20161209204737535)

例如上面，我们给100.120主机添加一个100.80的IP，用户访问115.239.100.80这个IP，如果这台机器的服务挂了，我们就将
这个ip转移到100.121这个机器上，这样对于用户而言，他们始终访问的就只是一个IP而已。

**在上面的场景中：115.239.100.80这个ip就是浮动IP，他会随着主机服务挂掉而转移到另外一个能够提供相同服务的主机上，
对于用户而言，他们始终觉得服务是正常的。**一般而言，在高可用集群中使用的比较多，例如LVS集群等